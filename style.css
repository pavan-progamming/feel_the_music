/* Note: The @import rule for 'Poppins' has been removed */

*{
    padding:0;
    margin:0;
    box-sizing:border-box;
} 
body {
    font-family: 'Noto Sans', 'Noto Sans Devanagari', 'Noto Sans Telugu', 'Noto Sans Tamil', 'Noto Sans Kannada', sans-serif;
    width: 100%;
    height: 100vh;
    background: #121213;
    display: grid;
    place-items:center;
    overflow: hidden; /* This will be overridden for mobile */
}
header {
    position: relative;
    width: 85%;
    height: 95%;
    display: flex;
    overflow:hidden;
    border-radius: 10px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.4);
}

/* ============================================== */
/*          LEFT SIDEBAR (CONTROL DECK)           */
/* ============================================== */
header .menu_side {
    width: 25%;
    height: 100%;
    background: #111727;
    box-shadow: 5px 0px 2px #090f1f;
    color: #fff;
    display: flex;
    flex-direction: column;
}
header .menu_side h1 {
    font-size: 20px;
    margin: 15px 0px 0px 20px;
    font-weight: 600;
    background: linear-gradient(90deg, #36e2ec, #fff);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}
header .menu_side .playlist {
    margin: 40px 0px 0px 20px;
}
header .menu_side .playlist h4 {
    font-size: 14px;
    font-weight: 400;
    padding-bottom: 10px;
    color: #4c5262;
    cursor: pointer;
    display: flex;
    align-items: center;
    transition: .3s linear;
}
header .menu_side .playlist h4:hover { color: #fff; }
header .menu_side .playlist h4.active { color: #36e2ec; }
header .menu_side .playlist h4 .bi { margin-right: 20px; }

/* ============================================== */
/*       NEW VERTICAL MASTER PLAYER STYLES        */
/* ============================================== */
header .menu_side .master_play {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    margin-top: auto;
    width: 100%;
    background: rgba(0,0,0,0.2);
    border-top: 1px solid #090f1f;
}
#poster_master_play {
    width: 180px;
    height: 180px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    margin-bottom: 15px;
    transition: transform .3s ease;
}
#poster_master_play:hover {
    transform: scale(1.05);
}

#title {
    width: 100%;
    font-size: 16px;
    color: #fff;
    text-align: center;
    margin-bottom: 5px;
    line-height: 1.3;
}
#title .subtitle {
    font-size: 12px;
    color: #a4a8b4;
}

header .master_play .wave {
    width: 30px;
    height: 30px;
    display: flex;
    align-items: flex-end;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
}
header .master_play .wave.active1 { opacity: 1; }
.wave .wave1 {
    width: 3px; height: 10px; background: #36e2ec; margin-right: 3px; border-radius: 10px 10px 0 0; animation: unset;
}
.wave .wave1:nth-child(2) { height: 13px; animation-delay: .4s; }
.wave .wave1:nth-child(3) { height: 8px; animation-delay: .8s; }
@keyframes wave { 0% { height: 10px; } 50% { height: 15px; } 100% { height: 10px; } }
.active1 .wave1 { animation: wave .5s linear infinite; }

.player-controls {
    width: 100%;
    margin-top: 20px;
}
.seek-container { display: flex; align-items: center; gap: 10px; width: 100%; }
.bar { position: relative; width: 100%; height: 2px; background: rgb(105, 105, 170, .1); }
.bar .bar2 { position: absolute; background: #36e2ec; width: 0%; height: 100%; top: 0; }
.bar .dot { position: absolute; width: 5px; height: 5px; background: #36e2ec; border-radius: 50%; left: 0%; top: -1.5px; opacity: 0; transition: opacity .3s ease; }
.bar:hover .dot { opacity: 1; }
.bar .dot::before { content: ''; position: absolute; width: 15px; height: 15px; border: 1px solid #36e2ec; border-radius: 50%; left: -5px; top: -5px; }
.bar input { position: absolute; width: 100%; top: -7px; left: 0; cursor: pointer; z-index: 99; opacity: 0; }
.seek-container span { color: #FFF; width: 32px; font-size: 11px; flex-shrink: 0; }

.buttons-container { display: flex; align-items: center; justify-content: center; gap: 20px; margin-top: 15px; }
.buttons-container .bi { cursor: pointer; color: #fff; transition: color .2s ease; font-size: 20px; }
.buttons-container .bi:hover { color: #36e2ec; }
#masterPlay { font-size: 38px; padding: 0; margin: 0; }
#shuffle, #repeat { font-size: 17px; }
#shuffle.active, #repeat.active { color: #36e2ec; }
#repeat.repeat-one::after {
    content: '1'; position: absolute; font-size: 10px; font-weight: bold; color: #fff; background: #36e2ec;
    border-radius: 50%; width: 12px; height: 12px; text-align: center; line-height: 12px; transform: translate(-5px, 5px);
}

.player-side-controls { display: flex; justify-content: space-between; align-items: center; width: 100%; margin-top: 20px; }
#like_master { font-size: 18px; color: #fff; cursor: pointer; transition: color 0.2s ease; }
#like_master.liked { color: #36e2ec; }
.vol { position: relative; display: flex; align-items: center; width: 100px; height: 2px; background: rgb(105,105,170,.1); }
.vol .bi { position: absolute; color: #fff; font-size: 25px; top: -17px; left: -30px; }
.vol input { position: absolute; width: 100%; top: -6px; left: 0; cursor: pointer; z-index: 99; opacity: 0; }
.vol .vol_bar { position: absolute; background: #36e2ec; width: 100%; height: 100%; top: 0; }
.vol .dot { position: absolute; width: 5px; height: 5px; background: #36e2ec; border-radius: 50%; left: 100%; top: -1.5px; }


/* ============================================== */
/*          RIGHT SIDE (DISCOVERY ZONE)           */
/* ============================================== */
header .song_side {
    width: 75%;
    height: 100%;
    background: #0b1320;
    overflow-y: auto;
    overflow-x: hidden;
    position: relative;
    z-index: 2;
}
header .song_side::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: var(--bg-image) no-repeat center center;
    background-size: cover;
    filter: blur(15px) brightness(0.6);
    z-index: -1;
    opacity: 0; /* Hidden by default */
    transition: opacity 0.8s ease;
}
/* This class, added by JS, makes the background visible */
header .song_side.has-bg::before {
    opacity: 1;
}

header .song_side nav{ width: 90%; height: 10%; margin:auto; display: flex; align-items: center; justify-content: space-between; }
header .song_side nav ul{ display: flex; }
header .song_side nav ul li{ list-style: none; position:relative; font-size: 13px; color:#a4a8b4; margin-right: 25px; cursor: pointer; transition:.3s linear; }
header .song_side nav ul li:hover{ color:#fff; }
header .song_side nav ul li:nth-child(1){ color:#fff; }
header .song_side nav ul li span{ position:absolute; width: 100%; height: 2.5px; background: #36e2ec; bottom:-5px; left:0; border-radius: 20px; }
header .song_side nav .search{ position: relative; width: 40%; padding: 1px 10px; border-radius: 20px; color:gray; }
header .song_side nav .search::before { content: ''; position: absolute; width: 100%; height: 100%; background: rgb(184,184,184,.1); border-radius: 20px; backdrop-filter: blur(10px); z-index: -1; }
header .song_side nav .search .bi { font-size: 13px; padding:3px 0px 0px 10px;  }
header .song_side nav .search input{ background: none; border:none; outline:none; padding:0px 10px; color:#fff; font-size:12px; }
header .song_side nav .user { position: relative; width: 30px; height: 30px; border-radius:50%; cursor: pointer; }
header .song_side nav .user img { width:100%; height:100%; border-radius:50%; box-shadow: 2px 2px 8px #121213; }

/* ============================================== */
/*          NEW DYNAMIC BANNER STYLES             */
/* ============================================== */
header .song_side .content {
    width: 90%;
    min-height: 300px;
    margin: 20px auto;
    padding: 30px;
    border-radius: 15px;
    color: #fff;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    background-size: cover;
    background-position: center;
    position: relative;
    overflow: hidden;
    transition: background-image 0.5s ease-in-out, opacity 0.3s ease-in-out;
}

header .song_side .content.fade-out {
    opacity: 0;
}

header .song_side .content::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: linear-gradient(to top, rgba(0,0,0,0.85) 10%, rgba(0,0,0,0) 80%);
    z-index: 1;
}

header .song_side .content h1,
header .song_side .content p,
header .song_side .content .buttons {
    position: relative;
    z-index: 2;
}

header .song_side .content h1 {
    font-size: 32px;
    font-weight: 700;
    margin-bottom: 5px;
}

header .song_side .content p {
    font-size: 14px;
    font-weight: 500;
    color: #e0e0e0;
    margin-bottom: 15px;
}

header .song_side .content .buttons button{ 
    width: 130px; 
    height: 35px;
    border: 2px solid #36e2ec; 
    outline: none; 
    border-radius: 20px; 
    background:#36e2ec; 
    color:#111727;
    font-weight: 600;
    cursor:pointer; 
    transition: .3s linear; 
} 
header .song_side .content .buttons button:hover{ 
    background: none; 
    color: #fff; 
} 
header .song_side .content .buttons button:nth-child(2){ 
    background: rgba(0,0,0,0.3); 
    color: #fff; 
    border: 2px solid #fff;
}
header .song_side .content .buttons button:nth-child(2):hover{ 
    background: #fff; 
    color: #111727; 
}


header .song_side .popular_song,
header .song_side .language_songs,
header .song_side .popular_artists { 
    width:90%; 
    height: auto; 
    margin: auto; 
    margin-top: 15px; 
} 
header .song_side .popular_song .h4,
header .song_side .language_songs .h4,
header .song_side .popular_artists .h4 { 
    display: flex; 
    align-items: center; 
    justify-content: space-between; 
} 
header .song_side .h4 h4 {
    color: #fff;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.4);
}
header .song_side .popular_song .h4 .bi,
header .song_side .language_songs .h4 .bi,
header .song_side .popular_artists .h4 .bi { 
    color:#a4a8b4; 
    cursor: pointer; 
    transition: .3s linear; 
} 
header .song_side .popular_song .h4 .bi:hover,
header .song_side .language_songs .h4 .bi:hover,
header .song_side .popular_artists .h4 .bi:hover { 
    color:#fff; 
} 
header .song_side .pop_song, header .song_side .pop_artist { 
    width:100%; 
    height: 150px; 
    margin-top: 15px; 
    display:flex; 
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth; 
} 
header .song_side .pop_song::-webkit-scrollbar,
header .song_side .pop_artist::-webkit-scrollbar { display: none; } 

header .song_side .pop_song li { min-width: 100px; height:140px; list-style-type:none; margin-right:10px; transition: .3s linear; border-radius: 5px; } 
header .song_side .pop_song li:hover { background: rgb(105,105,170,.1); } 
header .song_side .pop_song li .img_play{ position: relative; width: 100px; height: 100px; display: flex; align-items: center; justify-content: center; } 
header .song_side .pop_song li .img_play img{ width:100%; height: 100%; border-radius: 5px;} 
header .song_side .pop_song li .img_play .bi{ position: absolute; font-size: 20px; cursor: pointer; transition: .3s linear; opacity:0; color: #fff; text-shadow: 0 0 10px #000;} 
header .song_side .pop_song li:hover .img_play .bi{ opacity:1; } 
header .song_side .pop_song li h5{ padding:5px 0px 0px 5px; line-height: 15px; font-size:10px; width:100px; overflow:hidden; white-space:nowrap; text-overflow: ellipsis; color: #fff; } 
header .song_side .pop_song li h5 .subtitle{ font-size:9px; overflow:hidden; white-space:nowrap; text-overflow: ellipsis; color:#a4a8b4; } 

header .song_side .pop_artist li { min-width: 100px; height: 140px; list-style-type: none; margin-right: 10px; transition: .3s linear; cursor: pointer; border-radius: 5px; }
header .song_side .pop_artist li:hover { background: rgb(105, 105, 170, .1); }
header .song_side .pop_artist li img { width: 100px; height: 100px; border-radius: 50%; transition: transform .3s ease; }
header .song_side .pop_artist li:hover img { transform: scale(1.05); }
header .song_side .pop_artist li h5 { padding-top: 10px; line-height: 15px; font-size: 11px; font-weight: 500; width: 100px; text-align: center; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; color: #fff; }

#menu_overlay, .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; }
#menu_overlay { background: rgba(0, 0, 0, 0.5); display: none; }
.modal { display: none; place-items: center; }
.modal.active { display: grid; }
.modal-content { position: relative; background: #111727; color: #fff; padding: 30px; border-radius: 10px; width: 90%; max-width: 400px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
#close_modal { position: absolute; top: 15px; right: 15px; font-size: 24px; cursor: pointer; }
.profile-info img { width: 80px; height: 80px; border-radius: 50%; margin-bottom: 10px; }
.profile-stats { margin-top: 20px; padding-top: 20px; border-top: 1px solid #4c5262; }
.logout-btn { background: #36e2ec; color: #fff; border: none; padding: 10px 20px; border-radius: 20px; margin-top: 20px; cursor: pointer; font-weight: 600; transition: all .3s ease; }
.logout-btn:hover { background: #fff; color: #111727; }

.search_results { position: absolute; width: 100%; max-height: 250px; background: rgba(17, 23, 39, 0.7); margin-top: 10px; border-radius: 10px; backdrop-filter: blur(10px); overflow-y: auto; z-index: 1000; transition: 0.3s; opacity: 0; visibility: hidden; }
.search_results::-webkit-scrollbar { display: none; }
.search_results .card { display: flex; align-items: center; padding: 8px 10px; cursor: pointer; transition: .3s linear; text-decoration: none; }
.search_results .card:hover { background: rgba(184, 184, 184, .3); }
.search_results .card img { width: 35px; height: 35px; border-radius: 5px; }
.search_results .card .content { margin-left: 10px; color: #fff; }
.search_results .card .content .subtitle { font-size: 11px; color: #a4a8b4; }

.hidden {
    display: none !important;
}

#library_view {
    padding: 20px 5%;
}

#library_view h1 {
    font-size: 25px;
    font-weight: 600;
    margin-bottom: 20px;
    color: #fff;
}

/* ============================================== */
/*          ENHANCED MOBILE STYLES                */
/* ============================================== */

/* --- General Fixes for All Screen Sizes --- */
body {
    overflow-y: auto;
    overflow-x: hidden;
}

@media screen and (max-width: 930px) {
    header { width: 100%; height: 100%; border-radius: 0; }
    header .song_side { width: 100%; }
    
    #menu_list { display: block; z-index: 5; font-size: 24px; color: #fff; }
    header .song_side nav { padding: 10px 15px; }
    
    header .menu_side { 
        position: fixed; 
        top: 0; 
        width: 250px; 
        height: 100vh; 
        z-index: 1001; 
        transform: translateX(-100%); 
        transition: transform .3s ease-in-out; 
        box-shadow: 10px 0px 15px rgba(0,0,0,0.3); 
    }
    header .menu_side.active { transform: translateX(0%); }

    /* --- REPOSITION AND REDESIGN THE MASTER PLAYER FOR MOBILE --- */
    header .menu_side .master_play {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 75px;
        z-index: 1002;
        
        flex-direction: row;
        justify-content: flex-start;
        align-items: center;
        gap: 10px;
        
        background: #111727;
        border-top: 1px solid #090f1f;
        box-shadow: 0 -5px 15px rgba(0,0,0,0.3);
        
        padding: 0 10px;
        margin-top: 0;
    }

    header .song_side {
        padding-bottom: 90px;
    }

    #poster_master_play {
        width: 55px;
        height: 55px;
        margin-bottom: 0;
        border-radius: 5px;
        flex-shrink: 0;
    }

    #title {
        flex: 1;
        min-width: 0;
        text-align: left;
        margin: 0;
        font-size: 14px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    #title .subtitle {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    header .master_play .wave {
        display: none;
    }

    .player-controls {
        position: static;
        transform: none;
        width: auto;
        margin-left: auto;
        flex-shrink: 0;
    }
    .seek-container {
        display: none;
    }
    .buttons-container {
        margin-top: 0;
        gap: 12px;
    }
    #masterPlay { font-size: 34px; }
    #back, #next { font-size: 22px; }
    #shuffle, #repeat { font-size: 16px; display: none; }

    .player-side-controls {
        display: flex;
        justify-content: flex-end;
        width: auto;
        margin-top: 0;
        flex-shrink: 0;
    }
    .vol {
        display: none;
    }
    #like_master {
        margin-left: 10px;
    }

    header .menu_side {
        justify-content: flex-start;
    }
    header .menu_side .playlist {
        margin-top: 70px;
    }
}

@media screen and (max-width: 600px) {
    header .menu_side .master_play {
        height: 65px;
    }
    header .song_side {
        padding-bottom: 80px;
    }
    
    #poster_master_play {
        width: 45px;
        height: 45px;
    }

    .player-side-controls {
        display: none;
    }

    #title {
        font-size: 13px;
    }
    #title .subtitle {
        font-size: 10px;
    }
    
    .buttons-container {
        gap: 10px;
    }
    #masterPlay { font-size: 32px; }
    #back, #next { font-size: 20px; }

    header .song_side .content h1 {
        font-size: 26px;
    }
    header .song_side .content p {
        font-size: 13px;
    }
    header .song_side .content .buttons button {
        width: 110px;
        height: 32px;
        font-size: 12px;
    }

    header .song_side .h4 h4 {
        font-size: 16px;
    }
}

@media screen and (max-width: 450px) {
    header .song_side nav ul { display: none; }
    header .song_side nav .search { width: 75%; }
}
/* ============================================== */
/*          NEW ALBUM STYLES                      */
/* ============================================== */

/* --- Featured Albums Carousel on Home Page --- */
.featured_albums {
    width: 90%;
    height: auto;
    margin: auto;
    margin-top: 15px;
}
.featured_albums .h4 {
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.featured_albums .h4 .bi {
    color: #a4a8b4;
    cursor: pointer;
    transition: .3s linear;
}
.featured_albums .h4 .bi:hover {
    color: #fff;
}
.album_cards {
    width: 100%;
    height: 150px;
    margin-top: 15px;
    display: flex;
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth;
}
.album_cards::-webkit-scrollbar {
    display: none;
}
.album_card {
    min-width: 120px;
    height: 140px;
    list-style-type: none;
    margin-right: 15px;
    cursor: pointer;
    transition: .3s linear;
    border-radius: 5px;
}
.album_card:hover {
    background: rgb(105, 105, 170, .1);
}
.album_card img {
    width: 120px;
    height: 120px;
    border-radius: 5px;
    transition: transform .3s ease;
}
.album_card:hover img {
    transform: scale(1.05);
    box-shadow: 0 5px 10px rgba(0,0,0,0.2);
}
.album_card h5 {
    padding-top: 5px;
    font-size: 11px;
    font-weight: 500;
    width: 120px;
    color: #fff;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}

/* --- Dedicated Album Page View --- */
#album_view {
    padding: 20px 5%; /* Corresponds to 90% width of other sections */
}
#album_view_header {
    display: flex;
    align-items: flex-end;
    gap: 25px;
    margin-bottom: 30px;
}
#album_art {
    width: 200px;
    height: 200px;
    border-radius: 10px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.4);
}
#album_details h1 {
    font-size: 38px;
    font-weight: 700;
    color: #fff;
}
#album_details p {
    font-size: 14px;
    color: #a4a8b4;
    margin: 5px 0 15px 0;
}
#album_details .play_album_btn {
    width: 130px;
    height: 35px;
    border: none;
    outline: none;
    border-radius: 20px;
    background: #36e2ec;
    color: #111727;
    font-weight: 600;
    cursor: pointer;
    transition: .3s linear;
}
#album_details .play_album_btn:hover {
    transform: scale(1.05);
}
#album_song_list .album_song_item {
    display: flex;
    align-items: center;
    padding: 10px;
    border-radius: 5px;
    transition: background .2s linear;
    cursor: pointer;
    list-style-type: none;
}
#album_song_list .album_song_item:hover {
    background: rgba(184, 184, 184, .1);
}
#album_song_list .album_song_item.playing {
    background: rgba(184, 184, 184, .2);
}
.album_song_item .track_number {
    width: 30px;
    color: #a4a8b4;
    margin-right: 15px;
    font-size: 14px;
    text-align: right;
}
.album_song_item .song_details {
    color: #fff;
    flex-grow: 1;
}
.album_song_item .song_details .subtitle {
    color: #a4a8b4;
    font-size: 12px;
}
.album_song_item .song_duration {
    color: #a4a8b4;
    font-size: 13px;
}